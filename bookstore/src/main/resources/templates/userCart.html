<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Giỏ hàng</title>

<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css">



<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>


<link rel="stylesheet" type="text/css"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>



<link rel="stylesheet" type="text/css"
	th:href="@{../../css/sidebarStyle.css}">

<script th:src="@{../../script/sidebarHome.js}"></script>
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">

<link rel="stylesheet"
	href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
	integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
	crossorigin="anonymous" />
</head>

<body>






	<div class="container-fluid">
		<div class="row header">
			<div class="col-md-3">
				<div th:fragment="sidebar-fragment"
					class="d-flex flex-column vh-100 flex-shrink-0 p-3 text-white bg-dark"
					style="width: 250px;">
					<a href="/"
						class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
						<svg class="bi me-2" width="40" height="32"> </svg> <span
						class="fs-4">Book store</span>
					</a>
					<hr>
					<ul class="nav nav-pills flex-column mb-auto">
						<li class="nav-item"><a href="/account/userInfo"
							class="nav-link text-white " aria-current="page"> <i
								class="fa fa-home"></i><span class="ms-2">Thông tin tài
									khoản</span>
						</a></li>
						<li><a href="/account/cart" class="nav-link active"> <i
								class="fa fa-cart-plus" aria-hidden="true"></i> <span
								class="ms-2">Giỏ hàng</span>
						</a></li>
						<li><a href="#" class="nav-link text-white"><i
								class="fa fa-list" aria-hidden="true"></i> <span class="ms-2">Danh
									sách đơn hàng</span> </a></li>

					</ul>
					<hr>
					<div class="dropdown">
						<a href="#"
							class="d-flex align-items-center text-white text-decoration-none dropdown-toggle"
							id="dropdownUser1" data-bs-toggle="dropdown"
							aria-expanded="false"> <img th:src="@{../image/user.png}"
							alt="" width="32" height="32" class="rounded-circle me-2">


						</a>
						<ul class="dropdown-menu dropdown-menu-dark text-small shadow"
							aria-labelledby="dropdownUser1">
							<li><a class="dropdown-item"
								th:href="@{/account/update-password}">Thay đổi mật khẩu</a></li>
							<li><a class="dropdown-item" th:href="@{/logout}">Đăng
									xuất</a></li>
						</ul>
					</div>
				</div>

			</div>

			<div class="col-md-9 col-sm-12">
				<div class="row" th:fragment="buy-block">
					<div class="col-md-6 col-sm-12">
						<div th:each="item:${listItems}">
							<p class="book" th:data-idBook="${item.book.idBook}">
								<i class="fas fa-star-of-david"></i> <span
									style="font-size: 20px; font-weight: bold"
									th:text="${item.book.bookName}"> </span>
							</p>
							<p class="book-price" th:data-book-price="${item.book.price}">
								Đơn giá: <span
									th:text="${#numbers.formatDecimal(item.book.price, 0, 'COMMA', 0, 'POINT')} + ' VND'"></span>
							</p>
							<p style="display: inline; margin-right: 20px">
								Số lượng <input class="quantity-book" type="number"
									style="width: 70px" th:value="${item.quantityOfBooks}"
									th:min="1" th:max="${item.book.totalQuantity}">
							</p>
							<a style="text-decoration: none"
								th:href="@{'/book/'+ ${item.book.idBook} }">
								<button type="button" class="btn btn-info">Xem chi tiết</button>
							</a>
							<button type="button" class="btn btn-danger btn-delete-item">Xóa</button>
							<p class="item-price">
								Thành tiền: <span style="font-weight: bold"
									th:text="${#numbers.formatDecimal(item.book.price* item.quantityOfBooks, 0, 'COMMA', 0, 'POINT')} + ' VND'"></span>
							</p>

							<hr>
						</div>
						<p id="total-price" style="font-size: 25px">
							Tổng tiền <span style="color: red; font-weight: bold"
								th:text="${#numbers.formatDecimal(totalPrice, 0, 'COMMA', 0, 'POINT')} + ' VND'">
							</span>
						</p>

						<div style="text-align: center">
							<button type="button" id="btn-buy" class="btn btn-success">
								<i class="fa fa-shopping-cart" aria-hidden="true"> Mua ngay</i>
							</button>
						</div>

					</div>


					<div id="block-info-buy" class="col-md-6 col-sm-12" style="margin-top: 30px; display: none">
						<div class="row">
							<div class="col-md-1">
								<div class="vl"
									style="border-left: 6px solid green; height: 500px;"></div>
							</div>
							
							
							
							<div class="col-md-11">

							<h1 style="color: red;">
								<i class="fa fa-info-circle" aria-hidden="true"> Thông tin
									mua hàng</i>
							</h1>

							<form style="width: 80%;">
								<div class="form-group">
									<label for="fullname" style="font-size: 18px; font-weight: 500">Tên
										khách hàng</label> <input type="text" class="form-control"
										id="fullname" placeholder="Họ và tên khách hàng"
										name="fullname">
								</div>

								<div class="form-group">
									<label for="phone" style="font-size: 18px; font-weight: 500">Số
										điện thoại</label> <input type="text" name="phone"
										class="form-control input_user" id="phone"
										placeholder="Số điện thoại" minlength="10" maxLength="10">
								</div>

								<!-- CHECK PHONE -->
								<div th:if="${checkPhone == true}"
									style="color: red; margin: 10px 0px;">
									Số điện thoại đã được đăng ký<br />

								</div>
								<div th:if="${phoneLength == true}"
									style="color: red; margin: 10px 0px;">
									Số điện thoại phải đủ 10 số<br />

								</div>


								<label style="font-size: 20px; font-weight: 500;">Tỉnh/Thành
									phố</label> <select id="dropdown-province" class="form-select"
									aria-label="Default select example" name="province">
									<option th:value="${province.provinceId}"
										th:each="province: ${listProvince}"
										th:text="${province.provinceName}"></option>
								</select> <br> <label style="font-size: 20px; font-weight: 500;">Quận/Huyện</label>
								<select id="dropdown-district" class="form-select"
									aria-label="Default select example" name="district">
									<option th:value="${district.districtId}"
										th:each="district: ${listDistrict}"
										th:text="${district.districtName}"></option>
								</select> <br> <label style="font-size: 20px; font-weight: 500;">Xã/phường</label>
								<select id="dropdown-village" class="form-select"
									aria-label="Default select example" name="village">
									<option th:value="${village.villageId}"
										th:each="village: ${listVillage}"
										th:text="${village.villageName}"></option>
								</select> <br>
								<div class="form-group">
									<label for="address" style="font-size: 18px; font-weight: 500">Số
										nhà-tên đường</label> <input type="text" class="form-control"
										id="fullname" placeholder="Số nhà" name="address">
								</div>

								<br>
								<div style="text-align: center">
									<button type="submit" class="btn btn-primary">
										<i class="fa fa-check-circle" aria-hidden="true"> Xác nhận</i>
									</button>
								</div>

							</form>
						</div>
						</div>
						
						

					</div>

				</div>



			</div>



		</div>




	</div>
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script th:src="@{../script/ajaxForCart.js}"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>
</body>
</html>